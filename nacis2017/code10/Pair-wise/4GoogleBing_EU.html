<!DOCTYPE html> 
<html> 
<head> 

<script type="text/javascript" 
    src="http://maps.google.com/maps/api/js?sensor=false"> 
</script> 
      <script type="text/javascript" src="http://dev.virtualearth.net/mapcontrol/mapcontrol.ashx?v=7.0"></script>
<script type="text/javascript"> 

var map; 
function initialize() { 
  var myLatlng = new google.maps.LatLng(41.25,-96.05); 
  var myOptions = { 
    zoom: 2, 
    center: myLatlng, 
    mapTypeId: google.maps.MapTypeId.ROADMAP 
  } 
 
  map = new google.maps.Map(document.getElementById("map_canvas"), myOptions); 
 
  // Define bounding box for random marker
  // This area needs to correspond to the defined center and extent of the map,
  // as defined by myLatLng and zoom.
  // Procedure: re-center map, find lat/long for SW and NE corners, enter
  // south latitude (slat); north latitude (nlat);
  // west longitude (wlong); east longitude (elong);
  var slat = 37.665920;
  var nlat = 58.089164;
  var wlong = -11.266227;
  var elong = 40.590227;
  
  var southWest = new google.maps.LatLng(slat, wlong); 
  var northEast = new google.maps.LatLng(nlat, elong);
  
  // draw the box
  var rectangleCoords = [
      new google.maps.LatLng(slat, wlong),
      new google.maps.LatLng(nlat, wlong),
      new google.maps.LatLng(nlat, elong),
      new google.maps.LatLng(slat, elong),
      new google.maps.LatLng(slat, wlong)
  ];
  // Construct the rectangle
    var rectangle = new google.maps.Polygon({
      paths: rectangleCoords,
      strokeColor: "#FF0000",
      strokeOpacity: 0.8,
      strokeWeight: 1,
      fillColor: "#FF0000",
      fillOpacity: 0.02
    });

  // Draw the rectangle
   rectangle.setMap(map);
  
    var bounds = new google.maps.LatLngBounds(southWest,northEast); 
  
// Following fits bounds within the map, with a margin.  Not needed here.
// map.fitBounds(bounds); 
    var lngSpan = northEast.lng() - southWest.lng(); 
    var latSpan = northEast.lat() - southWest.lat(); 

    var lat= southWest.lat() + latSpan * Math.random();
	var lon= southWest.lng() + lngSpan * Math.random();
	
    var location = new google.maps.LatLng(lat, lon);
		var myOptions = { 
            zoom: 16, 
            center: location, 
            mapTypeId: google.maps.MapTypeId.ROADMAP 
  } 
  
  // Bing
         var Map = null;         

//The key in the following line has been issued by Microsoft. It is no longer specific to an individual server.
            Map = new Microsoft.Maps.Map(document.getElementById("myMap"),
                         {credentials:"AmnzJW8uTvn19E0NiZ7Gx5qxrnm_oQB9zKZw2mIJ0kw6D9dPqwivr4_7WGHCZZgh"}); 

            // Define the pushpin location
            var loc = new Microsoft.Maps.Location(lat,lon);
            
            // Add a pin to the map
            var pin = new Microsoft.Maps.Pushpin(loc); 
            Map.entities.push(pin);

            // Center the map on the location
            Map.setView({center: loc, zoom: 16}); 
			//Map.setView({mapTypeId: Microsoft.Maps.MapTypeId.Road});
			
        Map.setView({
            mapTypeId: Microsoft.Maps.MapTypeId.Road,
			//center: Microsoft.Maps.Location(lat, lon),
            zoom: 16
        });  
			

  // now create the Google map
  map = new google.maps.Map(document.getElementById("map_canvas"), myOptions); 
        var marker = new google.maps.Marker({ 
        position: location, 
        map: map 
    }); 

} 

</script> 
</head> 
<body onLoad="initialize()">
  <div id="map_canvas" style="width:800px; height:500px; position: absolute; top: 5px; left: 5px; border: thin solid black"></div> 
  <div id="myMap" style="height:500px; width:800px; position: absolute; left: 811px; top: 5px; border: thin solid black"></div>
</body> 
</html>


